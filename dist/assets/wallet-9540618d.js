import{l as c,a as m,u as v,o as x,c as f,b as e,t as d,n,F as k,r as y,e as b,f as u,T as h,d as g,w as z,v as T}from"./index-8a373c89.js";import{d as _}from"./dayjs.min-5433e12a.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";const M={data(){return{wallet:null,histories:[],certainHistories:[],activeType:"",topUpShow:!1,amount:"",activeMethod:"Bank",paymentMethod:0}},mounted(){this.getWalletDetail()},methods:{formatDigit(){this.amount=this.amount.replace(/[^0-9.]/g,"")},backToHome(){this.$router.go(-1)},formatDate(o){return _(o).format("YYYY-MM-DD HH:mm")},selectedMethod(o){this.activeMethod=o},async submitTopUp(){var t,r,l;if(this.amount==="0"||this.amount===0||this.amount==="")c.error("Amount cannnot be zero or empty!");else{const p=sessionStorage.getItem("IdUser");this.activeMethod==="Bank"&&(this.paymentMethod=1),this.activeMethod==="eWallet"&&(this.paymentMethod=4),this.activeMethod==="CreditCard"&&(this.paymentMethod=3);const a={MemberId:p,PaymentMethod:this.paymentMethod,Amount:Number(this.amount)};try{const i=await m.post("TopUp/RequestTopUp",JSON.stringify(a));if(i.status===200&&i.data.data.recordStatus===1){this.topUpShow=!1,c.success("Top-up successfully!");const s=v();var o={code:i.data.data.code,invoiceNo:i.data.data.invoiceNo,dt:i.data.data.createdDt,name:"",address:"",transactionType:"TopUp",amount:i.data.data.amount};s.setPayload(o),this.$router.push({name:"TransactionDetail"})}}catch(i){const s=((r=(t=i==null?void 0:i.response)==null?void 0:t.data)==null?void 0:r.message)||((l=i==null?void 0:i.response)==null?void 0:l.data)||(i==null?void 0:i.message)||"Something went wrong";c.error(s)}}},goToSpecificTransaction(o){this.activeType=o,o==="TopUp"?this.histories=this.certainHistories.filter(t=>t.transactionType==="TopUp"):o==="Purchase"?this.histories=this.certainHistories.filter(t=>t.transactionType==="Purchase"):o==="Refill"?this.histories=this.certainHistories.filter(t=>t.transactionType==="Refill"):o==="Refund"?this.histories=this.certainHistories.filter(t=>t.transactionType==="Refund"):this.histories=this.certainHistories},async getWalletDetail(){var t,r,l;const o=sessionStorage.getItem("IdUser");try{const p=await m.post("Wallet/GetWalletById",JSON.stringify(o));p.status===200&&(this.wallet=p.data,p.data.transactionLogs!=null&&(this.histories=p.data.transactionLogs,this.certainHistories=p.data.transactionLogs))}catch(p){const a=((r=(t=p==null?void 0:p.response)==null?void 0:t.data)==null?void 0:r.message)||((l=p==null?void 0:p.response)==null?void 0:l.data)||(p==null?void 0:p.message)||"Something went wrong";c.error(a)}}}},U={class:"wallet main-container w-[420px] h-[874px] bg-[#fff] relative mx-auto my-0"},S={class:"flex w-[55px] h-[21px] justify-between items-center relative z-[37] mt-[50px] mr-0 mb-0 ml-[30px]"},j={class:"w-[342px] h-[151.388px] relative z-[38] mt-[5.612px] mr-0 mb-0 ml-[30px] z-[5]"},R={class:"w-[342px] h-[132px] bg-[url('../public/wallet-background.png')] bg-cover bg-no-repeat rounded-[10px] absolute top-[19.388px] left-0 z-[4]"},C={class:"w-[342px] h-[132px] text-[0px] bg-[url('../public/wallet-background.png')] bg-cover bg-no-repeat rounded-[10px] absolute top-0 left-0 z-[5]"},H={class:"block h-[30px] font-['Poppins'] text-[40px] font-semibold leading-[30px] text-[#fff] relative text-left whitespace-nowrap z-[7] mt-[10px] mr-0 mb-0 ml-[20px]"},D={class:"flex w-[342px] h-[23px] justify-between items-center relative z-[33] mt-[15px] mr-0 mb-0 ml-[30px] z-[5]"},B={class:"flex w-[342px] h-[23px] justify-between items-center relative z-[33] mt-[15px] mr-0 mb-0 ml-[30px] z-[5]"},I={class:"w-[342px] h-[65px] text-[0px] relative z-10 mt-[30px] mr-0 mb-0 ml-[30px]"},N={class:"flex w-[342px] h-[65px] flex-col gap-[5px] items-start flex-nowrap absolute top-0 left-0 z-10"},A={class:"h-[20px] self-stretch shrink-0 basis-auto font-['Poppins'] text-[16px] font-medium leading-[20px] text-[#000] tracking-[0.1px] relative text-left whitespace-nowrap z-[11]"},F={class:"w-[342px] h-[40px] shrink-0 text-[0px] relative z-[12]"},W={class:"w-[342px] h-[20px] relative z-[14] mt-0 mr-0 mb-0 ml-0"},L={class:"flex h-[20px] justify-start items-center font-['Poppins'] text-[10px] font-normal leading-[20px] text-[#999999] tracking-[0.1px] absolute top-0 left-0 text-left whitespace-nowrap z-[15]"},V={class:"flex h-[20px] justify-start items-center font-['Poppins'] text-[12px] font-normal leading-[20px] text-[#000] tracking-[0.1px] absolute top-0 left-[230px] text-left whitespace-nowrap z-[16]"},Y={key:0,class:"modal w-[382px] h-[301px] absolute top-[143px] left-0 z-[39]"},O={class:"w-[300px] h-[83px] relative z-[42] mt-[80px] mr-0 mb-0 ml-[30px]"},J={class:"flex w-[330px] h-[60px] pt-[14px] pr-[20px] pb-[14px] pl-[20px] justify-between items-center flex-nowrap bg-[#292929] rounded-[10px] relative z-[44] mt-0 mr-0 mb-0 ml-0"},q={class:"w-[18px] h-[18px] shrink-0 relative z-[52]"};function E(o,t,r,l,p,a){var i;return x(),f("div",U,[e("div",S,[e("div",{onClick:t[0]||(t[0]=(...s)=>a.backToHome&&a.backToHome(...s)),class:"cursor-pointer w-[10px] h-[20px] shrink-0 bg-[url('../public/back_arrow.png')] bg-cover bg-no-repeat relative overflow-hidden z-[10] mt-[15px]"}),e("span",{onClick:t[1]||(t[1]=(...s)=>a.backToHome&&a.backToHome(...s)),class:"cursor-pointer h-[21px] shrink-0 font-['Poppins'] text-[14px] font-medium leading-[21px] text-[#000] relative text-left whitespace-nowrap z-[10] mt-[15px]"},"Back")]),e("div",j,[t[14]||(t[14]=e("div",{class:"w-[125px] h-[139.051px] absolute top-0 left-[217px] z-[10]"},[e("div",{class:"walletimg w-[125px] h-[138px] bg-[url('../public/wallet.png')] bg-cover bg-no-repeat relative z-[39] mt-[1.388px] mr-0 mb-0 ml-0"})],-1)),e("div",R,[e("div",C,[t[13]||(t[13]=e("span",{class:"block h-[20px] font-['Poppins'] text-[14px] font-normal leading-[20px] text-[#fff] tracking-[0.1px] relative text-left uppercase whitespace-nowrap z-[6] mt-[36px] mr-0 mb-0 ml-[20px]"},"Current Balance",-1)),e("span",H,"RM "+d((i=this.wallet)==null?void 0:i.balance.toFixed(2)),1)])])]),t[24]||(t[24]=e("div",{class:"w-[342px] h-[30px] relative z-[24] mt-[20px] mr-0 mb-0 ml-[30px] z-[5]"},[e("span",{class:"flex h-[30px] justify-start items-center font-['Poppins'] text-[20px] font-semibold leading-[29.986px] text-[#000] absolute top-0 left-[calc(50%-171px)] text-left whitespace-nowrap z-[3]"},"Transaction History")],-1)),e("div",D,[e("button",{onClick:t[2]||(t[2]=s=>a.goToSpecificTransaction("All")),class:n([p.activeType==="All"?"bg-[#2275b6]":"bg-[#f8f8f8]","flex w-[78px] h-[23px] pt-0 pr-[16px] pb-0 pl-[16px] gap-[10px] justify-center items-center shrink-0 flex-nowrap rounded-[20px] border-solid border border-[#f5f5f5] relative shadow-[1px_1.5px_7px_0_rgba(0,0,0,0.1)] z-[7]"])},[e("span",{class:n([p.activeType==="All"?"text-[#fff]":"text-[#000]","h-[20px] shrink-0 basis-auto font-['Poppins'] text-[12px] font-normal leading-[20px] tracking-[0.1px] relative text-left whitespace-nowrap z-[8]"])},"All",2)],2)]),e("div",B,[e("button",{onClick:t[3]||(t[3]=s=>a.goToSpecificTransaction("TopUp")),class:n([p.activeType==="TopUp"?"bg-[#2275b6]":"bg-[#f8f8f8]","flex w-[78px] h-[23px] pt-0 pr-[16px] pb-0 pl-[16px] gap-[10px] justify-center items-center shrink-0 flex-nowrap rounded-[20px] border-solid border border-[#f5f5f5] relative shadow-[1px_1.5px_7px_0_rgba(0,0,0,0.1)] z-[27]"])},[e("span",{class:n([p.activeType==="TopUp"?"text-[#fff]":"text-[#000]","h-[20px] shrink-0 basis-auto font-['Poppins'] text-[12px] font-normal leading-[20px] tracking-[0.1px] relative text-left whitespace-nowrap z-[28]"])},"Top Up",2)],2),e("button",{onClick:t[4]||(t[4]=s=>a.goToSpecificTransaction("Purchase")),class:n([p.activeType==="Purchase"?"bg-[#2275b6]":"bg-[#f8f8f8]","flex w-[78px] h-[23px] pt-0 pr-[16px] pb-0 pl-[16px] gap-[10px] justify-center items-center shrink-0 flex-nowrap rounded-[20px] border-solid border border-[#f5f5f5] relative shadow-[1px_1.5px_7px_0_rgba(0,0,0,0.1)] z-[29]"])},[e("span",{class:n([p.activeType==="Purchase"?"text-[#fff]":"text-[#000]","h-[20px] shrink-0 basis-auto font-['Poppins'] text-[12px] font-normal leading-[20px] tracking-[0.1px] relative text-left whitespace-nowrap z-30"])},"Purchase",2)],2),e("button",{onClick:t[5]||(t[5]=s=>a.goToSpecificTransaction("Refill")),class:n([p.activeType==="Refill"?"bg-[#2275b6]":"bg-[#f8f8f8]","flex w-[78px] h-[23px] pt-0 pr-[16px] pb-0 pl-[16px] gap-[10px] justify-center items-center shrink-0 flex-nowrap rounded-[20px] border-solid border border-[#f5f5f5] relative shadow-[1px_1.5px_7px_0_rgba(0,0,0,0.1)] z-[29]"])},[e("span",{class:n([p.activeType==="Refill"?"text-[#fff]":"text-[#000]","h-[20px] shrink-0 basis-auto font-['Poppins'] text-[12px] font-normal leading-[20px] tracking-[0.1px] relative text-left whitespace-nowrap z-30"])},"Refill",2)],2),e("button",{onClick:t[6]||(t[6]=s=>a.goToSpecificTransaction("Refund")),class:n([p.activeType==="Refund"?"bg-[#2275b6]":"bg-[#f8f8f8]","flex w-[78px] h-[23px] pt-0 pr-[16px] pb-0 pl-[16px] gap-[10px] justify-center items-center shrink-0 flex-nowrap rounded-[20px] border-solid border border-[#f5f5f5] relative shadow-[1px_1.5px_7px_0_rgba(0,0,0,0.1)] z-[31]"])},[e("span",{class:n([p.activeType==="Refund"?"text-[#fff]":"text-[#000]","h-[20px] shrink-0 basis-auto font-['Poppins'] text-[12px] font-normal leading-[20px] tracking-[0.1px] relative text-left whitespace-nowrap z-[32]"])},"Refund",2)],2)]),(x(!0),f(k,null,y(p.histories,(s,w)=>(x(),f("div",{key:w},[e("div",I,[e("span",{class:n(["flex w-[112px] h-[20px] justify-end items-center font-[Poppins] text-[16px] font-semibold leading-[20px] tracking-[0.1px] relative text-right whitespace-nowrap z-[9] mt-0 mr-0 mb-0 ml-[230px]",s.credit>0?"text-green-600":"text-red-600"])},d(s.credit>0?`+ RM ${s.credit.toFixed(2)}`:`- RM ${s.debit.toFixed(2)}`),3),e("div",N,[e("span",A,d(s.transactionType),1),e("div",F,[e("div",W,[e("span",L,d(a.formatDate(s.createdDt)),1),e("span",V,"Balance: RM "+d(s.balance.toFixed(2)),1)])])])]),t[15]||(t[15]=e("div",{class:"w-[342px] h-px bg-[url('../public/line.png')] bg-cover bg-no-repeat relative z-[8] mt-[9.5px] mr-0 mb-0 ml-[30px]"},null,-1))]))),128)),e("button",{onClick:t[7]||(t[7]=s=>p.topUpShow=!p.topUpShow),class:"flex w-[342px] h-[50px] pt-[10px] pr-[48px] pb-[10px] pl-[48px] gap-[10px] justify-center items-center flex-nowrap bg-[#292929] rounded-[12px] relative mr-0 mb-0 mt-[50px] ml-[30px] z-[10]"},t[16]||(t[16]=[e("span",{class:"h-[24px] shrink-0 basis-auto font-['Poppins'] text-[16px] font-semibold leading-[24px] text-[#fff] relative text-left whitespace-nowrap z-[1]"},"Top-Up",-1)])),b(h,{name:"fade"},{default:u(()=>[p.topUpShow?(x(),f("div",{key:0,class:"overlay",onClick:t[8]||(t[8]=s=>p.topUpShow=!1)})):g("",!0)]),_:1}),b(h,{name:"slide-up"},{default:u(()=>[p.topUpShow?(x(),f("div",Y,[e("div",O,[e("div",J,[t[17]||(t[17]=e("span",{class:"h-[20px] shrink-0 basis-auto font-['Poppins'] text-[24px] font-semibold leading-[20px] text-[#5ba6e0] tracking-[0.1px] relative text-left whitespace-nowrap z-[45]"},"RM",-1)),z(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>p.amount=s),onInput:t[10]||(t[10]=(...s)=>a.formatDigit&&a.formatDigit(...s)),class:"flex w-[243px] h-[40px] justify-end items-center shrink-0 basis-auto font-['Poppins'] text-[20px] text-[#5ba6e0] bg-[#292929] font-normal leading-[20px] text-[rgba(255,255,255,0.5)] tracking-[0.1px] relative text-right whitespace-nowrap z-[46]"},null,544),[[T,p.amount]])]),t[18]||(t[18]=e("span",{class:"flex w-[302px] h-[20px] justify-end items-center font-['Poppins'] text-[12px] font-normal leading-[20px] text-[#999999] tracking-[0.1px] relative text-right whitespace-nowrap z-[43] mt-[3px] mr-0 mb-0 ml-[20px]"},"Top-up Range: RM 1 - RM 30,000",-1))]),t[21]||(t[21]=e("span",{class:"block h-[20px] font-['Poppins'] text-[16px] font-medium leading-[20px] text-[#000] tracking-[0.1px] relative text-left whitespace-nowrap z-[47] mt-[20px] mr-0 mb-0 ml-[30px]"},"Payment Methods",-1)),e("div",{onClick:t[11]||(t[11]=s=>a.selectedMethod("Bank")),class:"cursor-pointer flex w-[322px] pt-[11px] pr-[15px] pb-[11px] pl-[15px] justify-between items-center flex-nowrap bg-[#fafafa] rounded-[10px] border-solid border border-[#fdfdfd] relative shadow-[0_2px_12px_0_rgba(0,0,0,0.1)] z-[48] mt-[15px] mr-0 mb-0 ml-[30px]"},[t[19]||(t[19]=e("div",{class:"w-[138px] h-[24px] shrink-0 relative z-[49]"},[e("span",{class:"flex h-[20px] justify-start items-center font-['Poppins'] text-[14px] font-normal leading-[20px] text-[#000] tracking-[0.1px] absolute top-[2px] left-[45px] text-left whitespace-nowrap z-[51]"},"Online Bank"),e("div",{class:"w-[35px] h-[11.702px] absolute top-[6.149px] left-0 z-50"})],-1)),e("div",q,[e("div",{class:n([p.activeMethod==="Bank"?"bg-[#2275b6]":"border-solid border-[1.5px] border-[#2275b6]","w-[18px] h-[18px] rounded-[30px] absolute top-0 left-0 z-[53]"])},null,2)])]),e("button",{onClick:t[12]||(t[12]=(...s)=>a.submitTopUp&&a.submitTopUp(...s)),class:"flex w-[332px] h-[50px] pt-[10px] pr-[48px] pb-[10px] pl-[48px] gap-[10px] justify-center items-center flex-nowrap bg-[#292929] rounded-[12px] relative z-[66] mt-[65px] mr-0 mb-0 ml-[30px]"},t[20]||(t[20]=[e("span",{class:"h-[24px] shrink-0 basis-auto font-['Poppins'] text-[16px] font-semibold leading-[24px] text-[#fff] relative text-left whitespace-nowrap z-[67]"},"Confirm",-1)])),t[22]||(t[22]=e("div",{class:"w-[382px] h-[411px] bg-[#fff] rounded-tl-[15px] rounded-tr-[15px] absolute top-0 left-1/2 translate-x-[-50%] translate-y-0 z-40 rounded-[10px]"},null,-1)),t[23]||(t[23]=e("span",{class:"flex h-[20px] justify-start items-center font-['Poppins'] text-[16px] font-medium leading-[20px] text-[#000] tracking-[0.1px] absolute top-[30px] left-[30px] text-left whitespace-nowrap z-[41]"},"Top Up Wallet",-1))])):g("",!0)]),_:1})])}const X=P(M,[["render",E],["__scopeId","data-v-3e1ca4aa"]]);export{X as default};
